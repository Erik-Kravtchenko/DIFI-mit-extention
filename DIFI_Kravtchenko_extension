<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <script>
    "use strict";

    function fDifi() {

      var vgA;
      var vgB;
      var va;
      var vb;
      var vKA;
      var vKB
      var vg;
      var vp;
      var vAusgabe;
      var vX;
      var vY;
      var vAnzahl;

      vX = 1;

      vg = document.getElementById ("idg").value;
      vg = parseFloat(vg);

      vp = document.getElementById ("idp").value;
      vp = parseFloat(vp);

      va = document.getElementById ("ida").value;
      va = parseFloat(va);

      vb = document.getElementById ("idb").value;
      vb = parseFloat(vb);

      vgA = Math.pow(vg, va) % vp;
      vgB = Math.pow(vg, vb) % vp;
      vKB = Math.pow(vgB, va) % vp;
      vKA = Math.pow(vgA, vb) % vp;



    vAnzahl = document.getElementById("idAnzahl").value;

      vAusgabe = "offentlicher Schlüssel Alice:" + vgA;
      vAusgabe = vAusgabe + "<br>" + "öffentlicher Schlüssel Bob:" +vgB;
      vAusgabe = vAusgabe + "<br>" + "--------------" + "<br>";
      vAusgabe = vAusgabe + "<br>" + "Generierter Schlüssel K Alice :" +vKA;
      vAusgabe = vAusgabe + "<br>" + "Generierter Schlüssel K Bob:" +vKB;

      vAusgabe = vAusgabe + "";
      vAusgabe = vAusgabe + "<br>Jetzt kommt eine Wertetabelle...";

      vAusgabe = vAusgabe + "<table border=1>";
      vAusgabe = vAusgabe + "<tr><th>x</td><th>f(x)=x + 2</td></tr>"

      while (vX <=vAnzahl) {

          vY = vX+2;
          vAusgabe = vAusgabe + "<tr><td>" + vX + "</td><td>" + vY + "</td></tr>";

      vX = vX + 1;

      vAusgabe = vAusgabe + "</table";

      document.getElementById("idAusgabe").innerHTML = vAusgabe;
  }


if (vp > 99) {
vAusgabe= "höma was soll dat"

}


  document.getElementById("idAusgabe").innerHTML = vAusgabe;

      }
    </script>
    <title>DIFI</title>
  </head><br>





 <body>
    <h1>Berechnung vom Schlüssel K nach Diffie-Hellman</h1>
  <br> 1. Alice und Bob einigen sich auf: <br>
    g = <input id="idg" type="text" value="2" />

    <br> p = <input id="idp" type="text" value="13" />   <br>

 <br> ------------------------------------------------------------------------ <br>

<br> 2. Alice wählt die Geheime Zahl a: <br>
  a = <input id="ida" type="text" value="5" />

<br> 3. Bob wählt die Geheime Zahl b:

<br>  b = <input id="idb" type="text" value="8" /> <br>


<br>  wie viele berechnungen? <input id="idAnzahl" type="text" value="5" /> <br>



<button onClick="fDifi();">Berechnen</button><br /><br>

<div id="idAusgabe"></div>





  </body>
</html>
